<form #dialogResult="ngForm" [formGroup]="dialogForm" (ngSubmit)="dialogRef.close(dialogForm.value)">

  <md-card>
    <md-card-title>Change user password</md-card-title>
    <md-card-content flow="row">
        <md-input name="password" ngModel placeholder="New password" required formControlName="password" type="password">
          <md-hint *ngIf="!password.pristine && password.errors" [ngStyle]="{'color': 'red'}" align="start">Can't be empty</md-hint>
        </md-input>
        <md-input name="password_confirm" placeholder="Confirm password" formControlName="password_confirm" type="password" required>
          <md-hint *ngIf="!password_confirm.pristine && password_confirm.errors && password_confirm.hasError('required')" [ngStyle]="{'color': 'red'}"
            align="start">Can't be empty</md-hint>
          <md-hint *ngIf="!dialogForm.pristine && dialogForm.errors && !password_confirm.hasError('required') && dialogForm.hasError('validateEqual')"
            [ngStyle]="{'color': 'red'}" align="start">Password does not match</md-hint>
        </md-input>
    </md-card-content>
    <md-card-actions>
      <button md-button type="submit" [disabled]="!dialogResult.valid">Ok</button>
      <button md-button (click)="dialogRef.close(null)">Cancel</button>
    </md-card-actions>
  </md-card>

</form>